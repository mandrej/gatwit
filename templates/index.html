{% extends "base.html" %}

{% block paginator %}
    <a href="{{ collection.refresh_url }}" class="icon-rotate-right pull-right icon-2x"></a>
{% endblock %}

{% block content %}
    <small>
        Results within {{ radius }} around {{ location }} / {{ collection.completed_in }}s<br>
        Product use GeoLite data created by <a href="http://www.maxmind.com">MaxMind</a>
    </small>
    <div id="main">
        {% for obj in collection %}
            <p id="{{ obj.id }}" class="tweet">
                <img src="{{ obj.user.profile_image_url }}">
                <span>
                    <small>{{ obj.source }}, {{ obj.created_at|timesince }},
                        {% if obj.coordinates %}{{ obj.coordinates|geocode }}{% endif %}
                    </small><br>
                    <a href="https://twitter.com/{{ obj.user.screen_name }}" class="from">@{{ obj.user.screen_name|default }} </a>
                    {{ obj.user.friends_count }} friends,
                    {{ obj.user.followers_count }} followers<br>
                    {{ obj.text|twitterize|urlize }}
{#                    <br>{{ obj.entities|pprint }}#}
{#                    <br><small>{% for k,v in obj.__dict__.items() %}{{ k }}: {{ v|pprint }}, {% endfor %}</small>#}
                </span>
            </p>
        {% else %}
            <p>No search results</p>
        {% endfor %}
    </div>
{% endblock %}